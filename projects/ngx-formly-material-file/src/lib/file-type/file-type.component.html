<div
  [ngClass]="{'label': true, 'label-valid': !field.formControl.touched || field.formControl.valid, 'mat-error': field.formControl.touched && !field.formControl.valid}">
  {{field.templateOptions.label}}
  <ng-container *ngIf="field.templateOptions.required">*</ng-container>
</div>

<app-file-input (selectFiles)="onSelectFiles($event)"></app-file-input>

<div *ngIf="!field.formControl.touched || field.formControl.valid" class="label label-valid">{{field.templateOptions.description}}
</div>
<ng-container *ngIf="field.formControl.touched">
  <mat-error class="mat-error" role="alert">
    <formly-validation-message [field]="field"></formly-validation-message>
  </mat-error>
</ng-container>

<mat-list>
  <ng-container *ngFor="let subfield of field.fieldGroup; index as i">
    <app-file-upload [field]="subfield" [uploadUrl]="field.templateOptions.uploadUrl"
      [paramName]="field.templateOptions.paramName" (deleteFile)="onDeleteFile(i)"></app-file-upload>
  </ng-container>
</mat-list>